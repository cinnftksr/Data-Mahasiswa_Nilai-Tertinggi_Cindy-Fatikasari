#include <iostream>
#include <iomanip>
#include <string>
using namespace std;

struct studentType{
    string studentFName;
    string studentLName;
    int nilaiUjian;
    char grade;
};

void dataMahasiswa(studentType mahasiswa[], int size );
void gradeNilai(studentType mahasiswa[], int size);
int nilaiTertinggi(const studentType mahasiswa[], int size);
void mhsNilaiTtg(const studentType mahasiswa[],  int  size, int tertinggi);
void tampilkan(const studentType mahasiswa[], int size);

int main(){
    const int jmlMhs = 20;
    studentType mahasiswa[jmlMhs];
    dataMahasiswa(mahasiswa, jmlMhs);
    gradeNilai(mahasiswa, jmlMhs);
    int tertinggi = nilaiTertinggi(mahasiswa, jmlMhs);

    cout << "\nData Mahasiswa:\n";
    tampilkan(mahasiswa, jmlMhs);

    cout << "\nNilai Tertinggi: " << tertinggi << endl;
    cout << "Mahasiswa dengan nilai tertinggi:\n";
    mhsNilaiTtg(mahasiswa, jmlMhs, tertinggi);

    return 0;
}


void dataMahasiswa(studentType mahasiswa[], int size){
    cout << "Masukkan data untuk " << size << " mahasiswa (FristName, LastName, Nilai):\n";
    for (int i = 0; i < size; i++){
        cout << "Mahasiswa " << i + 1 << ": ";
        cin >> mahasiswa[i].studentFName >> mahasiswa[i].studentLName >> mahasiswa[i].nilaiUjian;
    }

}


void gradeNilai(studentType mahasiswa[], int size){
    for (int i = 0; i < size; i++){
        int nilai = mahasiswa[i].nilaiUjian;
        if (nilai >= 90)
           mahasiswa[i].grade = 'A';
        else if (nilai >= 80)
           mahasiswa[i].grade = 'B';
        else if (nilai >= 65)
           mahasiswa[i].grade = 'C';
        else if (nilai >= 55)
           mahasiswa[i].grade = 'D';
        else 
           mahasiswa[i].grade = 'F';

    }
}


int nilaiTertinggi(const studentType mahasiswa[], int size){
    int tertinggi = mahasiswa[0].nilaiUjian;
    for (int i = 1; i < size; i++){
        if (mahasiswa[i].nilaiUjian > tertinggi)
            tertinggi = mahasiswa[i].nilaiUjian;
    }
    return tertinggi;
}


void mhsNilaiTtg(const studentType  mahasiswa[], int size, int tertinggi){
    for (int i = 0; i < size; i++){
        if (mahasiswa[i].nilaiUjian == tertinggi){
            cout << left << setw(15) << (mahasiswa[i].studentLName + ", " + mahasiswa[i].studentFName)
                 << "Nilai: " << mahasiswa[i].nilaiUjian
                 << " Grade: " << mahasiswa[i].grade << endl;
        }

    }
}


void tampilkan(const studentType mahasiswa[], int size){
    cout << left << setw(20) << "Nama"
         << setw(10) << "Nilai"
         << setw(6) << "Grade" << endl;
    cout << string (36, '-') << endl;

    for (int i = 0; i < size; i++){
        cout << left << setw(20)
             << (mahasiswa[i].studentLName + ", " + mahasiswa[i].studentFName)
             << setw(10) << mahasiswa[i].nilaiUjian
             << setw(6) << mahasiswa[i].grade << endl;
    }

}
